- defaults:
    link:
      relink: true
      create: true
    shell:
      quiet: true
- clean: ['~']
- link:
    # config folders
    ~/.config/alacritty:  alacritty
    ~/.config/fish:       fish
    ~/.config/nvim:       neovim
    ~/.config/skhd:       skhd
    ~/.config/spacebar:   spacebar
    ~/.config/yabai:      yabai

    # Single files
    ~/.gitconfig:         git/.gitconfig

- create:
    ~/.ssh:
      mode: 0700
    ~/workspace:

- shell:
    - [
          /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)",
          Installing Brew,
      ]
    - [
          brew bundle --file brew/Brewfile,
          Installing Brew packages from Brewfile,
      ]
    - 
      description: "Setting up fish as default shell"
      command: "./setup_scripts/fish_setup"
      stdout: true
      stdin: true
      stderr: true
    - [
          rm -rf ~/.local/share/nvim/site/pack/packer && git clone --depth 1 https://github.com/wbthomason/packer.nvim ~/.local/share/nvim/site/pack/packer/start/packer.nvim,
          Installing Packer,
      ]
    - [
          nvim --headless -u NONE -c 'autocmd User PackerComplete quitall' -c 'lua require("plugins")' -c 'lua require("packer").sync()',
          Installing Neovim plugins,
      ]
    - [
          ./setup_scripts/set_repeat_rate,
          Setting key repeat rate,
      ]
    - [
          fish setup_scripts/shh.fish,
          Setting up SSH,
      ]
